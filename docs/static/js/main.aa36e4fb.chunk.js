(this.webpackJsonpchoco=this.webpackJsonpchoco||[]).push([[0],{28:function(e,t,a){e.exports=a(50)},33:function(e,t,a){},38:function(e,t){},40:function(e,t){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),l=a.n(c),o=a(7),i=(a(33),a(27)),s=[{id:"roseCounter",name:"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u043e\u0437"},{id:"skuGenerator",name:"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0410\u0440\u0442\u0438\u043a\u0443\u043b\u043e\u0432"}],u=[{id:"roses",name:"\u0420\u043e\u0437\u044b"},{id:"packaging",name:"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"}],m={},f={B:{name:"\u0411\u0435\u043b\u044b\u0439",color:"white"},G:{name:"\u0413\u043e\u043b\u0443\u0431\u043e\u0439",color:"blue"},J:{name:"\u0416\u0435\u043b\u0442\u044b\u0439",color:"yellow"},K:{name:"\u041a\u0440\u0430\u0441\u043d\u044b\u0439",color:"red"},O:{name:"\u041e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439",color:"orange"},R:{name:"\u0420\u043e\u0437\u043e\u0432\u044b\u0439",color:"pink"},F:{name:"\u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439",color:"#8b00ff"},SH:{name:"\u0428\u043e\u043a\u043e\u043b\u0430\u0434\u043d\u044b\u0439",color:"#4f2811"},ZL:{name:"\u0417\u043e\u043b\u043e\u0442\u043e\u0439",color:"#d4af37"}},d=Object.keys(f),E=[7,19,37,61].sort((function(e,t){return e-t})),p={A:{name:"\u0410\u043a\u0432\u0430\u043c\u0430\u0440\u0438\u043d",color:"#7fffd4"},B:{name:"\u0411\u0435\u043b\u044b\u0439",color:"white"},G:{name:"\u0413\u043e\u043b\u0443\u0431\u043e\u0439",color:"#add8e6"},J:{name:"\u0416\u0435\u043b\u0442\u044b\u0439",color:"yellow"},Z:{name:"\u0417\u0435\u043b\u0435\u043d\u044b\u0439",color:"green"},K:{name:"\u041a\u0440\u0430\u0441\u043d\u044b\u0439",color:"red"},O:{name:"\u041e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439",color:"orange"},R:{name:"\u0420\u043e\u0437\u043e\u0432\u044b\u0439",color:"pink"},S:{name:"\u0421\u0438\u043d\u0438\u0439",color:"blue"},T:{name:"\u0422\u0435\u043c\u043d\u043e-\u0433\u043e\u043b\u0443\u0431\u043e\u0439",color:"#72bcd4"},F:{name:"\u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439",color:"#8b00ff"},ZL:{name:"\u0417\u043e\u043b\u043e\u0442\u043e\u0439",color:"#d4af37"},C:{name:"\u0421\u0438\u0440\u0435\u043d\u0435\u0432\u044b\u0439",color:"#c8a2c8"},CH:{name:"\u0427\u0451\u0440\u043d\u044b\u0439",color:"black"},M:{name:"\u041c\u0430\u043b\u0438\u043d\u043e\u0432\u044b\u0439",color:"maroon"},SH:{name:"\u0428\u043e\u043a\u043e\u043b\u0430\u0434\u043d\u044b\u0439",color:"#4f2811"}},b=Object.keys(p).sort(),h={B:"\u0411\u0443\u043a\u0435\u0442",M:"\u041c\u0438\u043d\u0438-\u043a\u043e\u0440\u043e\u0431\u043a\u0430",K:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430",SH:"\u0428\u043b\u044f\u043f\u043d\u0430\u044f \u043a\u043e\u0440\u043e\u0431\u043a\u0430",Z:"\u0428\u043b\u044f\u043f\u043d\u0430\u044f \u043a\u043e\u0440\u043e\u0431\u043a\u0430 (\u0437\u0430\u043a\u0440\u044b\u0442\u0430\u044f)",ZS:"\u0421\u0435\u0440\u0434\u0446\u0435 (\u0437\u0430\u043a\u0440\u044b\u0442\u043e\u0435)",S:"\u0421\u0435\u0440\u0434\u0446\u0435"},g={SH:{37:"12",51:"16",73:"20",101:"25"},Z:{19:"16",27:"18",29:"20",37:"20"}},v=function(e,t){var a={},n=function(e){for(var t=e.replace(" ",""),a=[];0!==t.length;)d.forEach((function(e){0===t.indexOf(e)&&(a.push(e),t=t.slice(e.length))}));return a}(t);return n.forEach((function(t,r){var c=m[e]&&m[e][n.length]?m[e][n.length]:function(e,t){var a=[],n=e/t;if(e%t===0)a=new Array(t).fill(n);else{a.push(Math.ceil(n));for(var r=2;r<=t;r++)a.push(Math.floor(n))}return a}(e,n.length);a[t]=parseInt(c[r],10)})),a},k=function(e){return Object.keys(e).reduce((function(t,a){return t+parseFloat(e[a]||0)}),0)},y=function(e){var t={totalOrders:0,totalRoses:0,roseStats:{},roseDetails:{},packagingDetails:{}};e.forEach((function(e,a){try{var n=e[2].replace("ZS","S").split("-"),r=e[3],c=n[0].replace(/^\D+/g,""),l=n[0].replace(/\d/g,"");t.totalOrders=t.totalOrders+=1,t.totalRoses=t.totalRoses+=parseInt(c,10);var o=2===n.length||"K"===l?n[1]:n[2],i=v(c,o);Object.keys(i).forEach((function(e){var a=i[e]*r;t.roseDetails[e]?t.roseDetails[e]+=a:t.roseDetails[e]=a}));var s=function(e,t){return"K"!==e?t[1]:"plain"}(l,n);"R"!==l&&(t.packagingDetails[l]||(t.packagingDetails[l]={}),t.packagingDetails[l][s]||(t.packagingDetails[l][s]={}),t.packagingDetails[l][s][c]?t.packagingDetails[l][s][c]=t.packagingDetails[l][s][c]+1:t.packagingDetails[l][s][c]=1)}catch(m){var u="\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0437\u0430\u043a\u0430\u0437\u0430 ".concat(e,". \u0421\u0442\u0440\u043e\u043a\u0430 ").concat(a);throw alert(u),new Error(u)}})),t.packagingDetails=function(e){var t={};return Object.keys(e).forEach((function(a){t[a]={},Object.keys(e[a]).forEach((function(n){switch(a){case"B":var r=k(e[a][n]);t[a][n]="".concat(r/2," \u043b\u0438\u0441\u0442\u043e\u0432 (").concat(r,"\u0448\u0442.)");break;case"K":t[a][n]="".concat(e[a].plain[27]," \u0448\u0442.");break;case"M":var c=k(e[a][n]);t[a][n]="".concat(c," \u0448\u0442.");break;case"SH":case"Z":var l=e[a][n],o="";Object.keys(l).forEach((function(e){o="".concat(o).concat(g[a][e],"\u0441\u043c - ").concat(l[e]," \u0448\u0442.\n")})),t[a][n]=o;break;case"ZS":case"S":var i=e[a][n],s="";Object.keys(i).forEach((function(e){s="".concat(s).concat(e," - ").concat(i[e]," \u0448\u0442.\n")})),t[a][n]=s;break;default:return}}))})),t}(t.packagingDetails);var a=[];for(var n in t.roseDetails)a.push([n,t.roseDetails[n]]);return a.sort((function(e,t){return t[1]-e[1]})),t.roseDetails=Object.fromEntries(a),t},O=function(e){var t=e.children,a=e.style,n=e.className,c=void 0===n?"":n;return r.a.createElement("table",{style:a,className:"mx-auto table table-bordered mt-3 ".concat(c)},r.a.createElement("tbody",null,t))},j=function(e){var t=e.children;return r.a.createElement("th",{scope:"row",style:{textAlign:"left"}},t)},D=a(11),x=function(e){var t=e.children,a=Object(D.a)(e,["children"]);return r.a.createElement("td",a,t)},w=function(e){var t=e.children;return r.a.createElement("tr",null,t)},N=function(e){var t=e.color,a=Object(D.a)(e,["color"]);return r.a.createElement("td",a,r.a.createElement("div",{style:{width:"25px",height:"25px",backgroundColor:t,border:"1px solid #dee2e6",margin:"0 auto"}}))},S=function(e){var t=e.data;return r.a.createElement(O,{style:{maxWidth:"500px"}},Object.keys(t.roseDetails).map((function(e){return r.a.createElement(w,{key:e},r.a.createElement(j,null,f[e].name),r.a.createElement(N,{color:f[e].color}),r.a.createElement(x,null,t.roseDetails[e]," \u0448\u0442."))})),r.a.createElement(w,null,r.a.createElement(j,null,"\u0412\u0441\u0435\u0433\u043e \u0420\u043e\u0437:"),r.a.createElement(x,null),r.a.createElement(x,null,t.totalRoses," \u0448\u0442.")),r.a.createElement(w,null,r.a.createElement(j,null,"\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u043e\u0432:"),r.a.createElement(x,null),r.a.createElement(x,null,t.totalOrders," \u0448\u0442.")))},R=function(e){var t=e.data;return r.a.createElement(O,{className:"table__package",style:{maxWidth:"700px"}},Object.keys(t.packagingDetails).sort().map((function(e){return r.a.createElement(w,{key:e},r.a.createElement(x,{width:"200px"},h[e]),r.a.createElement(x,null,r.a.createElement(O,null,Object.keys(t.packagingDetails[e]).sort().map((function(a){return r.a.createElement(w,{key:a},r.a.createElement(x,{width:"150px"},p[a]?p[a].name:"\u041d\u0435\u0442 \u0446\u0432\u0435\u0442\u0430"),p[a]?r.a.createElement(N,{width:"70px",height:"100%",color:p[a].color}):r.a.createElement(x,{width:"70px"},"\xa0"),r.a.createElement(x,null,r.a.createElement("div",null,t.packagingDetails[e][a])))})))))})))},Z=function(){var e,t=Object(n.useState)(null),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(u[0].id),m=Object(o.a)(s,2),f=m[0],d=m[1],E=function(t){var a=e.result,n=i.parse(a).filter((function(e){return!e.every((function(e){return""===e}))}));l(y(n)),t.target.value=null};return r.a.createElement("div",null,r.a.createElement("h5",{className:"mt-4"},"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"),r.a.createElement("div",{className:"mx-auto mt-2"},r.a.createElement("label",{htmlFor:"file",className:"btn btn-warning"},c?"\u0417\u0430\u0433\u0440\u0443\u0437\u0438 \u0435\u0449\u0435":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438 \u0444\u0430\u0439\u043b"),r.a.createElement("input",{style:{position:"absolute",left:"-999px"},type:"file",id:"file",accept:".csv",onChange:function(t){return a=t.target.files[0],(e=new FileReader).onloadend=E,void(a&&e.readAsText(a));var a}}),c&&r.a.createElement("div",{className:"tabs mt-1"},r.a.createElement("ul",{className:"nav nav-pills nav-fill"},u.map((function(e){return r.a.createElement("li",{className:"nav-item",key:e.id},r.a.createElement("div",{className:"nav-link ".concat(f===e.id?"active":""),href:"#",onClick:function(){d(e.id)}},e.name))})))),c&&f===u[0].id&&r.a.createElement(S,{data:c}),c&&f===u[1].id&&r.a.createElement(R,{data:c})))},B=a(1),C=function(){var e,t=Object.keys(f).sort(),a=(e=t,e.reduceRight((function(e,t){return[].concat(Object(B.a)(e),Object(B.a)(e.map((function(e){return[t].concat(Object(B.a)(e))}))))}),[[]])).filter((function(e){return e.length&&e.length<=3})).map((function(e){return e.join("")})).sort(),n=E.reduce((function(e,t){return[].concat(Object(B.a)(e),Object(B.a)(b.map((function(e){return"".concat("B").concat(t,"-").concat(e)}))))}),[]).sort().reduce((function(e,t){return[].concat(Object(B.a)(e),Object(B.a)(a.map((function(e){return"".concat(t,"-").concat(e)}))))}),[]);return r.a.createElement("div",null,r.a.createElement("table",{style:{maxWidth:"500px"},className:"mx-auto table table-bordered mt-3"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u0422\u0438\u043f\u044b"),r.a.createElement("td",null,"B")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u0420\u0430\u0437\u043c\u0435\u0440\u044b"),E.map((function(e){return r.a.createElement("td",{key:e},e)}))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u0426\u0432\u0435\u0442\u0430 \u0440\u043e\u0437"),t.map((function(e){return r.a.createElement("td",{key:e},e)}))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u0426\u0432\u0435\u0442\u0430 \u0431\u0443\u043c\u0430\u0433\u0438"),b.map((function(e){return r.a.createElement("td",{key:e},e)}))))),r.a.createElement("p",{className:"text-left",style:{padding:"0 20px"}},n.join(" ")))};function H(){var e=Object(n.useState)(s[0].id),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"tabs mt-1"},r.a.createElement("ul",{className:"nav nav-fill"},s.map((function(e){return r.a.createElement("li",{className:"nav-item",key:e.id},r.a.createElement("a",{className:"nav-link",href:"#",onClick:function(){c(e.id)}},e.name))})))),a===s[0].id?r.a.createElement(Z,null):r.a.createElement(C,null))}var K=document.getElementById("root");l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),K)}},[[28,1,2]]]);
//# sourceMappingURL=main.aa36e4fb.chunk.js.map