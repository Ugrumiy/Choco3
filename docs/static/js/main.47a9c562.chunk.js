(this.webpackJsonpchoco=this.webpackJsonpchoco||[]).push([[0],{25:function(e,a,t){e.exports=t(47)},30:function(e,a,t){},35:function(e,a){},37:function(e,a){},47:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),c=t(23),r=t.n(c),o=(t(30),t(13)),s=t(24);const i=[{id:"roses",name:"\u0420\u043e\u0437\u044b"},{id:"packaging",name:"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"}],m={},d={SH:{name:"\u0428\u043e\u043a\u043e\u043b\u0430\u0434\u043d\u044b\u0439",color:"#4f2811"},ZL:{name:"\u0417\u043e\u043b\u043e\u0442\u043e\u0439",color:"#d4af37"},B:{name:"\u0411\u0435\u043b\u044b\u0439",color:"white"},G:{name:"\u0413\u043e\u043b\u0443\u0431\u043e\u0439",color:"blue"},J:{name:"\u0416\u0435\u043b\u0442\u044b\u0439",color:"yellow"},K:{name:"\u041a\u0440\u0430\u0441\u043d\u044b\u0439",color:"red"},O:{name:"\u041e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439",color:"orange"},R:{name:"\u0420\u043e\u0437\u043e\u0432\u044b\u0439",color:"pink"},F:{name:"\u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439",color:"#8b00ff"},Z:{name:"\u0417\u0435\u043b\u0435\u043d\u044b\u0439",color:"green"}},p=Object.keys(d),u=([7,19,37,61].sort((e,a)=>e-a),{A:{name:"\u0410\u043a\u0432\u0430\u043c\u0430\u0440\u0438\u043d",color:"#7fffd4"},B:{name:"\u0411\u0435\u043b\u044b\u0439",color:"white"},G:{name:"\u0413\u043e\u043b\u0443\u0431\u043e\u0439",color:"#add8e6"},J:{name:"\u0416\u0435\u043b\u0442\u044b\u0439",color:"yellow"},Z:{name:"\u0417\u0435\u043b\u0435\u043d\u044b\u0439",color:"green"},K:{name:"\u041a\u0440\u0430\u0441\u043d\u044b\u0439",color:"red"},O:{name:"\u041e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439",color:"orange"},R:{name:"\u0420\u043e\u0437\u043e\u0432\u044b\u0439",color:"pink"},S:{name:"\u0421\u0438\u043d\u0438\u0439",color:"blue"},T:{name:"\u0422\u0435\u043c\u043d\u043e-\u0433\u043e\u043b\u0443\u0431\u043e\u0439",color:"#72bcd4"},F:{name:"\u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439",color:"#8b00ff"},ZL:{name:"\u0417\u043e\u043b\u043e\u0442\u043e\u0439",color:"#d4af37"},C:{name:"\u0421\u0438\u0440\u0435\u043d\u0435\u0432\u044b\u0439",color:"#c8a2c8"},CH:{name:"\u0427\u0451\u0440\u043d\u044b\u0439",color:"black"},M:{name:"\u041c\u0430\u043b\u0438\u043d\u043e\u0432\u044b\u0439",color:"maroon"},SH:{name:"\u0428\u043e\u043a\u043e\u043b\u0430\u0434\u043d\u044b\u0439",color:"#4f2811"}}),E=(Object.keys(u).sort(),{B:"\u0411\u0443\u043a\u0435\u0442",M:"\u041c\u0438\u043d\u0438-\u043a\u043e\u0440\u043e\u0431\u043a\u0430",MS:"\u041c\u0438\u043d\u0438-\u043a\u043e\u0440\u043e\u0431\u043a\u0430 (\u0441\u0435\u0440\u0434\u0446\u0435)",K:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430",SH:"\u0428\u043b\u044f\u043f\u043d\u0430\u044f \u043a\u043e\u0440\u043e\u0431\u043a\u0430",Z:"\u0428\u043b\u044f\u043f\u043d\u0430\u044f \u043a\u043e\u0440\u043e\u0431\u043a\u0430 (\u0437\u0430\u043a\u0440\u044b\u0442\u0430\u044f)",ZS:"\u0421\u0435\u0440\u0434\u0446\u0435 (\u0437\u0430\u043a\u0440\u044b\u0442\u043e\u0435)",S:"\u0421\u0435\u0440\u0434\u0446\u0435"}),g={SH:{37:"12",51:"16",73:"20",101:"25"},Z:{19:"16",27:"18",29:"20",37:"20"}},h=(e,a,t,l)=>{const n={},c=((e,a,t)=>{let l=100,n=e.replace(" ",""),c=[];for(;0!==n.length&&0!==l;)p.forEach(e=>{0===n.indexOf(e)&&(c.push(e),n=n.slice(e.length))}),l-=1;if(0===l){const l='\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u0438 \u0446\u0432\u0435\u0442\u043e\u0432: "'.concat(e,'". \n\u0417\u0430\u043a\u0430\u0437 ').concat(a,". \u0421\u0442\u0440\u043e\u043a\u0430 ").concat(t+1,". \n\u041e\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d. \n\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043d\u043e\u0432\u044b\u0439 \u0446\u0432\u0435\u0442?");alert(l)}return c})(a,t,l);return c.forEach((a,t)=>{const l=m[e]&&m[e][c.length]?m[e][c.length]:((e,a)=>{let t=[];const l=e/a;if(e%a===0)t=new Array(a).fill(l);else{t.push(Math.ceil(l));for(let e=2;e<=a;e++)t.push(Math.floor(l))}return t})(e,c.length);n[a]=parseInt(l[t],10)}),n},b=e=>Object.keys(e).reduce((a,t)=>a+parseFloat(e[t]||0),0),f=e=>{let a={totalOrders:0,totalRoses:0,roseStats:{},roseDetails:{},packagingDetails:{}};e.forEach((e,t)=>{try{const l=e[2],n=l.replace("ZS","S").split("-"),c=e[3],r=n[0].replace(/^\D+/g,""),o=n[0].replace(/\d/g,"");a.totalOrders=a.totalOrders+=1,a.totalRoses=a.totalRoses+=parseInt(r,10)*c;const s=2===n.length||"K"===o?n[1]:n[2],i=h(r,s,e,t);Object.keys(i).forEach(e=>{const t=i[e]*c;a.roseDetails[e]?a.roseDetails[e]+=t:a.roseDetails[e]=t});const m=((e,a)=>"K"!==e?a[1]:"plain")(o,n);"R"!==o&&(a.packagingDetails[o]||(a.packagingDetails[o]={}),a.packagingDetails[o][m]||(a.packagingDetails[o][m]={}),a.packagingDetails[o][m][r]?a.packagingDetails[o][m][r]=a.packagingDetails[o][m][r]+1:a.packagingDetails[o][m][r]=1)}catch(l){const a="\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0437\u0430\u043a\u0430\u0437\u0430 ".concat(e,".\n\u0421\u0442\u0440\u043e\u043a\u0430 ").concat(t+1);throw alert(a),new Error(a)}}),a.packagingDetails=(e=>{let a={};return Object.keys(e).forEach(t=>{a[t]={};Object.keys(e[t]).forEach(l=>{switch(t){case"B":{const n=b(e[t][l]);a[t][l]="".concat(n/2," \u043b\u0438\u0441\u0442\u043e\u0432 (").concat(n,"\u0448\u0442.)");break}case"K":a[t][l]="".concat(e[t].plain[27]," \u0448\u0442.");break;case"M":case"MS":{const n=b(e[t][l]);a[t][l]="".concat(n," \u0448\u0442.");break}case"SH":case"Z":{const n=e[t][l];let c="";Object.keys(n).forEach(e=>{c="".concat(c).concat(g[t][e],"\u0441\u043c - ").concat(n[e]," \u0448\u0442.\n")}),a[t][l]=c;break}case"ZS":case"S":{const n=e[t][l];let c="";Object.keys(n).forEach(e=>{c="".concat(c).concat(e," - ").concat(n[e]," \u0448\u0442.\n")}),a[t][l]=c;break}default:return}})}),a})(a.packagingDetails);let t=[];for(let l in a.roseDetails)t.push([l,a.roseDetails[l]]);return t.sort((e,a)=>a[1]-e[1]),a.roseDetails=Object.fromEntries(t),a};var k=({children:e,style:a,className:t=""})=>n.a.createElement("table",{style:a,className:"mx-auto table table-bordered mt-3 ".concat(t)},n.a.createElement("tbody",null,e)),y=({children:e})=>n.a.createElement("th",{scope:"row",style:{textAlign:"left"}},e),O=t(7),D=e=>{let a=e.children,t=Object(O.a)(e,["children"]);return n.a.createElement("td",t,a)},v=({children:e})=>n.a.createElement("tr",null,e),j=e=>{let a=e.color,t=Object(O.a)(e,["color"]);return n.a.createElement("td",t,n.a.createElement("div",{style:{width:"25px",height:"25px",backgroundColor:a,border:"1px solid #dee2e6",margin:"0 auto"}}))},w=({data:e})=>n.a.createElement(k,{style:{maxWidth:"500px"}},Object.keys(e.roseDetails).map(a=>n.a.createElement(v,{key:a},n.a.createElement(y,null,d[a].name),n.a.createElement(j,{color:d[a].color}),n.a.createElement(D,null,e.roseDetails[a]," \u0448\u0442."))),n.a.createElement(v,null,n.a.createElement(y,null,"\u0412\u0441\u0435\u0433\u043e \u0420\u043e\u0437:"),n.a.createElement(D,null),n.a.createElement(D,null,e.totalRoses," \u0448\u0442.")),n.a.createElement(v,null,n.a.createElement(y,null,"\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u043e\u0432:"),n.a.createElement(D,null),n.a.createElement(D,null,e.totalOrders," \u0448\u0442."))),x=({data:e})=>n.a.createElement(k,{className:"table__package",style:{maxWidth:"700px"}},Object.keys(e.packagingDetails).sort().map(a=>n.a.createElement(v,{key:a},n.a.createElement(D,{width:"200px"},E[a]),n.a.createElement(D,null,n.a.createElement(k,null,Object.keys(e.packagingDetails[a]).sort().map(t=>n.a.createElement(v,{key:t},n.a.createElement(D,{width:"150px"},u[t]?u[t].name:"\u041d\u0435\u0442 \u0446\u0432\u0435\u0442\u0430"),u[t]?n.a.createElement(j,{width:"70px",height:"100%",color:u[t].color}):n.a.createElement(D,{width:"70px"},"\xa0"),n.a.createElement(D,null,n.a.createElement("div",null,e.packagingDetails[a][t]))))))))),S=()=>{let e;const a=Object(l.useState)(null),t=Object(o.a)(a,2),c=t[0],r=t[1],m=Object(l.useState)(i[0].id),d=Object(o.a)(m,2),p=d[0],u=d[1],E=a=>{const t=e.result;let l=s.parse(t).filter(e=>!e.every(e=>""===e));r(f(l)),a.target.value=null};return n.a.createElement("div",null,n.a.createElement("h5",{className:"mt-4"},"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"),n.a.createElement("div",{className:"mx-auto mt-2"},n.a.createElement("label",{htmlFor:"file",className:"btn btn-warning"},c?"\u0417\u0430\u0433\u0440\u0443\u0437\u0438 \u0435\u0449\u0435":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438 \u0444\u0430\u0439\u043b"),n.a.createElement("input",{style:{position:"absolute",left:"-999px"},type:"file",id:"file",accept:".csv",onChange:a=>{return t=a.target.files[0],e=new FileReader,e.onloadend=E,void(t&&e.readAsText(t));var t}}),c&&n.a.createElement("div",{className:"tabs mt-1"},n.a.createElement("ul",{className:"nav nav-pills nav-fill"},i.map(e=>n.a.createElement("li",{className:"nav-item",key:e.id},n.a.createElement("div",{className:"nav-link ".concat(p===e.id?"active":""),href:"#",onClick:()=>{u(e.id)}},e.name))))),c&&p===i[0].id&&n.a.createElement(w,{data:c}),c&&p===i[1].id&&n.a.createElement(x,{data:c})))};function N(){return n.a.createElement("div",{className:"App"},n.a.createElement(S,null))}const Z=document.getElementById("root");r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(N,null)),Z)}},[[25,1,2]]]);
//# sourceMappingURL=main.47a9c562.chunk.js.map